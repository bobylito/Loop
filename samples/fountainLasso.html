<!doctype html>
<html>
<head>
<title>Xperience : animation playground</title>
<style type="text/css" media="screen">
/* <![CDATA[ */
*{padding:0;margin:0}
body{background-color:#000}

body{text-align:left; background-color:#111; color:#FFF; font-family:Verdana, Helvetica, Arial, Sans-serif; padding:35px 35px;}
ul li{list-style-type:none;}

/* ]]> */
</style>

</head>

<body>
  <div id="principal"> 
    <canvas id="scene" height="800" width="800"></canvas>
  </div>
</body>

<script src="../Stats.js" type="text/javascript" language="javascript" charset="utf-8"></script>
<script src="../lib.js" type="text/javascript" language="javascript" charset="utf-8"></script>
<script src="../particles.js" type="text/javascript" language="javascript" charset="utf-8"></script>
<script src="../bench.js" type="text/javascript" language="javascript" charset="utf-8"></script>
<script type="text/javascript" language="javascript" charset="utf-8">
(function(){
  var fountainFP = loop.animations.particleLasso2(
        function(){ return [];},
        function(now){
          var r = Math.random() > 0.5 ? 1: -1,
              a = 1.5 * Math.PI + 0.1 * r * Math.PI;

          return [  
            // x 
            datastore["CANVAS_WIDTH"]/2,
            // y
            datastore["CANVAS_HEIGHT"]/2,
            // Date d'expiration
            (new Date()).getTime() + 2000,
            // Valeur de d√©placement sur x
            Math.cos(a) * 20,
            // Valeur de deplacement sur y
            Math.sin(a) * 20,
            now 
          ];
        },
        function(p){
          var rx = 0.5 - (Math.random()),
              ry = 1 - (Math.random());

          p[3] = p[3] + rx;
          p[4] = p[4] + ry;

          return p;
        },
        {
          compositionMethod: "lighter",
          color: "hsl(230, 100%, 70%)",
          size:10
        });

  setInterval(function(){
    fountainFP.create(10);
  }, 10)

  loop.registerAnimation(fountainFP);
  loop.registerAnimation(loop.animations.particle.bench());

  loop.start();
})();
</script>
</html>
